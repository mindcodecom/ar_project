<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <title>Multilingual Markerless AR</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/ar.js@3.3.2/aframe/build/aframe-ar.min.js"></script>
  <style>
    body, html {
      margin: 0; padding: 0; overflow: hidden; height: 100%; width: 100%;
      font-family: Arial, sans-serif;
      color: white;
      background-image: url('https://images.unsplash.com/photo-1505751172876-fa1923c5c528?auto=format&fit=crop&w=1470&q=80');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      transition: direction 0.3s ease;
    }

    #companyHeader {
      position: fixed;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      align-items: center;
      gap: 15px;
      z-index: 10000;
      user-select: none;
      pointer-events: none;
      direction: ltr;
    }

    #companyLogo {
      width: 100px;
      height: 100px;
      object-fit: cover;
      border-radius: 50%;
      filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.7));
    }

    #companyName {
      font-weight: 900;
      font-size: 2rem;
      color: #212df3;
      font-family: 'Arial Black', Arial, sans-serif;
      text-shadow: 2px 2px 5px rgba(0,0,0,0.7);
      position: relative;
      top: -10px;
    }

    #ui {
      position: absolute;
      top: 120px;
      left: 10px;
      right: 10px;
      background: rgba(0,0,0,0.5);
      padding: 15px;
      border-radius: 8px;
      z-index: 9999;
      max-width: 350px;
      margin: auto;
      user-select: none;
      box-shadow: 0 0 10px rgba(0,0,0,0.7);
    }

    label, select, input, button {
      display: block;
      width: 100%;
      margin-top: 10px;
      font-size: 1rem;
    }

    select, input, button {
      padding: 8px;
      border-radius: 5px;
      border: none;
    }

    button {
      background-color: #28a745;
      color: white;
      font-weight: bold;
      cursor: pointer;
    }

    button:hover {
      background-color: #218838;
    }

    #instruction {
      margin-top: 10px;
      font-size: 0.9em;
      line-height: 1.4;
    }

    #pageFooter {
      width: 100%;
      background-color: rgba(0,0,0,0.4);
      color: #ddd;
      text-align: center;
      padding: 4px 10px;
      font-size: 13px;
      position: fixed;
      bottom: 0;
      left: 0;
      z-index: 9998;
      font-weight: normal;
      backdrop-filter: blur(4px);
    }
  </style>
</head>
<body>

<!-- Ø´Ø¹Ø§Ø± Ø§Ù„Ø´Ø±ÙƒØ© -->
<div id="companyHeader">
  <img src="logo.png" alt="Company Logo" id="companyLogo" />
  <span id="companyName">Mind Code Company</span>
</div>

<!-- ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
<div id="ui">
  <label id="labelLang" for="langSelect">Select Language:</label>
  <select id="langSelect">
    <option value="en" selected>English</option>
    <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
    <option value="fr">FranÃ§ais</option>
  </select>

  <label id="labelImage" for="imageInput">ðŸ“· Select Image:</label>
  <input type="file" id="imageInput" accept="image/*" />

  <label id="labelAudio" for="audioInput">ðŸ”Š Select Audio File:</label>
  <input type="file" id="audioInput" accept="audio/*" />

  <button id="startAR">â–¶ Start AR</button>

  <p id="instruction">Move your device and see the image appear on the surface.</p>
</div>

<!-- Ù…Ø´Ù‡Ø¯ AR -->
<a-scene embedded vr-mode-ui="enabled: false"
         renderer="logarithmicDepthBuffer: true;"
         arjs="sourceType: webcam; debugUIEnabled: false; trackingMethod: best;">
  <a-entity camera position="0 1.6 0" look-controls></a-entity>
  <a-entity id="arContent" position="0 0 -1" visible="false"></a-entity>
</a-scene>

<!-- Ø§Ù„ØªØ°ÙŠÙŠÙ„ -->
<footer id="pageFooter">
  ðŸ“§ Mind.code.com@gmail.com â€¢ <span id="footerRights">All rights reserved to Mind Code Company</span>
</footer>

<script>
  const langSelect = document.getElementById('langSelect');
  const labelLang = document.getElementById('labelLang');
  const labelImage = document.getElementById('labelImage');
  const labelAudio = document.getElementById('labelAudio');
  const startBtn = document.getElementById('startAR');
  const instruction = document.getElementById('instruction');
  const arContent = document.getElementById('arContent');
  const uiDiv = document.getElementById('ui');

  const texts = {
    en: {
      direction: 'ltr',
      labelLang: 'Select Language:',
      labelImage: 'ðŸ“· Select Image:',
      labelAudio: 'ðŸ”Š Select Audio File:',
      startBtn: 'â–¶ Start AR',
      instruction: 'Move your device and see the image appear on the surface.',
      alertNoImage: 'Please select an image first',
      alertReady: 'âœ… Move your device to see the image on the surface',
      rights: 'All rights reserved to Mind Code Company'
    },
    ar: {
      direction: 'rtl',
      labelLang: 'Ø§Ø®ØªØ± Ø§Ù„Ù„ØºØ©:',
      labelImage: 'ðŸ“· Ø§Ø®ØªØ± ØµÙˆØ±Ø©:',
      labelAudio: 'ðŸ”Š Ø§Ø®ØªØ± Ù…Ù„Ù ØµÙˆØª:',
      startBtn: 'â–¶ Ø¨Ø¯Ø¡ Ø§Ù„ÙˆØ§Ù‚Ø¹ Ø§Ù„Ù…Ø¹Ø²Ø²',
      instruction: 'Ø­Ø±Ùƒ Ø§Ù„Ø¬Ù‡Ø§Ø² ÙˆØ³ØªØ±Ù‰ Ø§Ù„ØµÙˆØ±Ø© ØªØ¸Ù‡Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø·Ø­ Ø£Ù…Ø§Ù…Ùƒ.',
      alertNoImage: 'ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ØµÙˆØ±Ø© Ø£ÙˆÙ„Ø§Ù‹',
      alertReady: 'âœ… Ø­Ø±Ùƒ Ø¬Ù‡Ø§Ø²Ùƒ Ù„Ø±Ø¤ÙŠØ© Ø§Ù„ØµÙˆØ±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø³Ø·Ø­ Ø£Ù…Ø§Ù…Ùƒ',
      rights: 'Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Ù„Ø´Ø±ÙƒØ© Ù…Ø§ÙŠÙ†Ø¯ ÙƒÙˆØ¯'
    },
    fr: {
      direction: 'ltr',
      labelLang: 'Choisir la langue :',
      labelImage: 'ðŸ“· Choisir une image :',
      labelAudio: 'ðŸ”Š Choisir un fichier audio :',
      startBtn: 'â–¶ DÃ©marrer la rÃ©alitÃ© augmentÃ©e',
      instruction: 'DÃ©placez votre appareil et voyez lâ€™image apparaÃ®tre sur la surface.',
      alertNoImage: 'Veuillez dâ€™abord sÃ©lectionner une image',
      alertReady: 'âœ… DÃ©placez votre appareil pour voir lâ€™image sur la surface',
      rights: 'Tous droits rÃ©servÃ©s Ã  Mind Code Company'
    }
  };

  function updateLanguage(lang) {
    const t = texts[lang];
    document.documentElement.lang = lang;
    document.documentElement.dir = t.direction;
    document.body.style.direction = t.direction;
    document.body.style.textAlign = t.direction === 'rtl' ? 'right' : 'left';

    labelLang.textContent = t.labelLang;
    labelImage.textContent = t.labelImage;
    labelAudio.textContent = t.labelAudio;
    startBtn.textContent = t.startBtn;
    instruction.textContent = t.instruction;
    document.getElementById('footerRights').textContent = t.rights;

    if (t.direction === 'rtl') {
      uiDiv.style.right = '10px';
      uiDiv.style.left = 'unset';
    } else {
      uiDiv.style.left = '10px';
      uiDiv.style.right = 'unset';
    }
  }

  langSelect.addEventListener('change', e => updateLanguage(e.target.value));
  updateLanguage(langSelect.value);

  let imageURL = null, audioURL = null;
  document.getElementById('imageInput').addEventListener('change', e => {
    if (e.target.files.length) imageURL = URL.createObjectURL(e.target.files[0]);
  });
  document.getElementById('audioInput').addEventListener('change', e => {
    if (e.target.files.length) audioURL = URL.createObjectURL(e.target.files[0]);
  });

  startBtn.addEventListener('click', () => {
    const lang = langSelect.value;
    if (!imageURL) {
      alert(texts[lang].alertNoImage);
      return;
    }
    while (arContent.firstChild) arContent.removeChild(arContent.firstChild);
    const aImage = document.createElement('a-image');
    aImage.setAttribute('src', imageURL);
    aImage.setAttribute('position', '0 0 0');
    aImage.setAttribute('width', '1');
    aImage.setAttribute('height', '1');
    arContent.appendChild(aImage);
    if (audioURL) {
      const aSound = document.createElement('a-sound');
      aSound.setAttribute('src', audioURL);
      aSound.setAttribute('autoplay', 'true');
      aSound.setAttribute('position', '0 1 0');
      arContent.appendChild(aSound);
    }
    arContent.setAttribute('visible', 'true');
    alert(texts[lang].alertReady);
  });
</script>

</body>
</html>
